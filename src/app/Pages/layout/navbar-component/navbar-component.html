<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo/Brand -->
    <div class="navbar-brand">
      <a routerLink="/" class="brand-link" (click)="closeMenu()">
        <span class="brand-icon">ðŸ“‹</span>
        <span class="brand-name">Customer Manager</span>
      </a>
    </div>

    <!-- Mobile Menu Toggle -->
    <button 
      class="menu-toggle" 
      (click)="toggleMenu()"
      [class.active]="isMenuOpen"
      aria-label="Toggle navigation menu"
      *ngIf="isAuthenticated"
    >
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <!-- Navigation Links -->
    <div class="navbar-menu" [class.active]="isMenuOpen">
      <!-- Main Navigation (Only when authenticated) -->
      <ul class="nav-list" *ngIf="isAuthenticated && visibleNavItems.length > 0">
        <li class="nav-item" *ngFor="let item of visibleNavItems">
          <a 
            [routerLink]="item.path" 
            class="nav-link"
            [class.active]="isActive(item.path)"
            (click)="closeMenu()"
          >
            <span class="nav-icon">{{ item.icon }}</span>
            <span class="nav-label">{{ item.label }}</span>
          </a>
        </li>
      </ul>

      <!-- Auth Navigation -->
      <ul class="nav-auth">
        <!-- When not authenticated - Show Login/Signup -->
        <li class="nav-item" *ngFor="let item of visibleAuthItems">
          <a 
            [routerLink]="item.path" 
            class="nav-link"
            [class.active]="isActive(item.path)"
            (click)="closeMenu()"
          >
            <span class="nav-icon">{{ item.icon }}</span>
            <span class="nav-label">{{ item.label }}</span>
          </a>
        </li>

        <!-- When authenticated - Show User Info and Logout -->
        <ng-container *ngIf="isAuthenticated">
          <li class="nav-item user-info">
            <div class="nav-link user-badge">
              <span class="nav-icon">ðŸ‘¤</span>
              <span class="nav-label">
                <span class="user-role">{{ userDisplayName }}</span>
              </span>
            </div>
          </li>
          <li class="nav-item">
            <button class="nav-link logout-btn" (click)="logout()">
              <span class="nav-icon">ðŸšª</span>
              <span class="nav-label">Logout</span>
            </button>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
</nav>

<!-- Backdrop for mobile menu -->
<div 
  class="navbar-backdrop" 
  [class.active]="isMenuOpen"
  (click)="closeMenu()"
></div>